{"remainingRequest":"C:\\Users\\multicampus\\Desktop\\project3\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\multicampus\\Desktop\\project3\\frontend\\src\\views\\main\\MyPage.vue?vue&type=style&index=0&id=39355a22&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\multicampus\\Desktop\\project3\\frontend\\src\\views\\main\\MyPage.vue","mtime":1636958775454},{"path":"C:\\Users\\multicampus\\Desktop\\project3\\frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\multicampus\\Desktop\\project3\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\multicampus\\Desktop\\project3\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\multicampus\\Desktop\\project3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\multicampus\\Desktop\\project3\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KI015UGFnZV9Db250YWluZXIgew0KICBkaXNwbGF5OiBmbGV4Ow0KICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgbWFyZ2luOiAwIGF1dG87DQogIG1hcmdpbi10b3A6IDM0cHg7DQogIHdpZHRoOiA2MDBweDsNCiAgaGVpZ2h0OiA4MDBweDsNCiAgYm9yZGVyLXJhZGl1czogMTVweDsNCiAgYm94LXNoYWRvdzogM3B4IDNweCAxMXB4IHJnYmEoMTY2LCAxNjYsIDE2OCwgMC4yNSk7DQp9DQojTXlwYWdlX0NvbnRlbnQgew0KICB3aWR0aDogNTI4cHg7DQogIGhlaWdodDogNzI4cHg7DQp9DQojTXlwYWdlX1RpdGxlIHsNCiAgZm9udC1zaXplOiAxOHB4Ow0KICBmb250LXdlaWdodDogNjAwOw0KfQ0KI015cGFnZV9Qcm9maWxlIHsNCiAgaGVpZ2h0OiA0NXB4Ow0KICBtYXJnaW4tdG9wOiAyMHB4Ow0KfQ0KI1Byb2ZpbGVfaW1nIHsNCiAgYm9yZGVyLXJhZGl1czogNTBweDsNCiAgd2lkdGg6IDQ1cHg7DQogIGhlaWdodDogNDVweDsNCn0NCiNDaGFuZ2VfQnRuIHsNCiAgd2lkdGg6IDEzMHB4Ow0KICBmb250LXNpemU6IDE1cHg7DQogIG1hcmdpbi1sZWZ0OiA4MHB4Ow0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIHRvcDogLTE5cHg7DQp9DQouTXlwYWdlX0Zvcm0gew0KICBoZWlnaHQ6IDQ1cHg7DQogIC8qIGJvcmRlcjoxcHggc29saWQgcmVkOyAqLw0KfQ0KLkZvcm1fTmFtZSB7DQogIGZvbnQtc2l6ZTogMTZweDsNCn0NCi5Gb3JtX0lucHV0IHsNCiAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICB3aWR0aDogNDAwcHg7DQogIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgdG9wOiAtOHB4Ow0KfQ0KI015cGFnZV9UaXRsZTIgew0KICBmb250LXNpemU6IDE4cHg7DQogIGZvbnQtd2VpZ2h0OiA2MDA7DQogIG1hcmdpbi10b3A6IDI0cHg7DQp9DQouVGFiIHsNCiAgaGVpZ2h0OiAzMjVweDsNCiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNkN2Q3ZDc7DQp9DQojTXlwYWdlX0J0bl9Cb3ggew0KICBtYXJnaW4tdG9wOiAyMHB4Ow0KICBoZWlnaHQ6IDMwcHg7DQogIGZsb2F0OiByaWdodDsNCn0NCi5NeXBhZ2VfQnRuIHsNCiAgbWFyZ2luLWxlZnQ6IDEwcHg7DQp9DQojTXlwYWdlX0RlbGV0ZSB7DQogIGZsb2F0OiBsZWZ0Ow0KICBoZWlnaHQ6IDMwcHg7DQogIG1hcmdpbi10b3A6IDIwcHg7DQp9DQojRGVsZXRlX0J0biB7DQogIGNvbG9yOiAjOWY5ZjlmOw0KICB3aWR0aDogNTBweDsNCiAgZm9udC1zaXplOiAxNXB4Ow0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIGxlZnQ6IC0xcHg7DQp9DQo="},{"version":3,"sources":["MyPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MyPage.vue","sourceRoot":"src/views/main","sourcesContent":["<template>\r\n  <div id=\"MyPage_Container\">\r\n    <div id=\"Mypage_Content\">\r\n      <div id=\"Mypage_Title\">기본 프로필 편집</div>\r\n      <div id=\"Mypage_Profile\">\r\n        <img :src=\"profile.profileImg\" id=\"Profile_img\" />\r\n        <v-btn @click=\"imgLabelClick\" id=\"Change_Btn\" text> 프로필 사진 바꾸기 </v-btn>\r\n        <input ref=\"imageInput\" type=\"file\" style=\"display: none; opacity: 0;\" @change=\"onChangeImages\" accept=\".jpg, .jpeg, .png, .gif\" id=\"profile_img_upload\">\r\n      </div>\r\n      <div class=\"Mypage_Form\">\r\n        <span class=\"Form_Name\">닉네임</span>\r\n        <v-text-field\r\n          style=\"margin-left: 84px\"\r\n          class=\"Form_Input\"\r\n          color=\"#FFB319\"\r\n          v-model=\"profile.nickName\"\r\n          :rules=\"rules\"\r\n        ></v-text-field>\r\n      </div>\r\n      <div class=\"Mypage_Form\">\r\n        <span class=\"Form_Name\">비밀번호</span>\r\n        <v-text-field\r\n          style=\"margin-left: 70px\"\r\n          class=\"Form_Input\"\r\n          type=\"password\"\r\n          color=\"#FFB319\"\r\n          v-model=\"profile.pwd\"\r\n          :rules=\"rules\"\r\n        ></v-text-field>\r\n      </div>\r\n      <div class=\"Mypage_Form\">\r\n        <span class=\"Form_Name\">비밀번호 확인</span>\r\n        <v-text-field\r\n          style=\"margin-left: 39px\"\r\n          class=\"Form_Input\"\r\n          type=\"password\"\r\n          color=\"#FFB319\"\r\n          v-model=\"profile.pwdCheck\"\r\n          :rules=\"pwdCheckRule\"\r\n        ></v-text-field>\r\n      </div>\r\n      <div id=\"Mypage_Title2\">내 구매 목록</div>\r\n      <v-tabs\r\n        fixed-tabs\r\n        style=\"border: 1px solid #d7d7d7; margin-top: 10px; height: 375px\"\r\n        color=\"#FFB319\"\r\n      >\r\n        <v-tab> 스티커 </v-tab>\r\n        <v-tab> 폰트 </v-tab>\r\n        <v-tab> 커버 </v-tab>\r\n        <v-tab-item class=\"Tab\"> 스티커 목록: {{ myStickerLsit }} </v-tab-item>\r\n        <v-tab-item class=\"Tab\"> 폰트 목록: {{ myFontList }} </v-tab-item>\r\n        <v-tab-item class=\"Tab\"> 커버 목록: {{ myCoverList }} </v-tab-item>\r\n      </v-tabs>\r\n      <div id=\"Mypage_Delete\">\r\n        <v-btn id=\"Delete_Btn\" text> 회원 탈퇴 </v-btn>\r\n      </div>\r\n      <div id=\"Mypage_Btn_Box\">\r\n        <v-btn @click=\"modify\" class=\"Mypage_Btn\" color=\"#FFB319\" style=\"color: white\"\r\n          >수정</v-btn\r\n        >\r\n        <v-btn\r\n          @click=\"back\"\r\n          class=\"Mypage_Btn\"\r\n          color=\"#9F9F9F\"\r\n          style=\"color: white\"\r\n          >취소</v-btn\r\n        >\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Swal from 'sweetalert2';\r\nimport { mapState } from 'vuex';\r\nexport default {\r\n  data() {\r\n    return {\r\n      profile: {\r\n        nickName: '',\r\n        pwd: '',\r\n        pwdCheck: '',\r\n        profileImg: '',\r\n        img: ''\r\n      },\r\n      myStickerLsit: [],\r\n      myCoverList: [],\r\n      myFontList: [],\r\n      // profile.nickName : loginUser.nickName,\r\n      // pwd: \"123123\",\r\n      // pwdCheck: \"123123\",\r\n      rules: [(value) => !!value || \"입력창을 확인해주세요.\"],\r\n      pwdCheckRule: [\r\n        (value) => !!value || \"입력창을 확인해주세요.\",\r\n        (value) => {\r\n          if (this.profile.pwd != value) {\r\n            return \"비밀번호가 일치하지 않습니다.\";\r\n          } else {\r\n            return true;\r\n          }\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  computed: {\r\n    loginUser() {\r\n      return this.$store.getters.getLoginUser;\r\n    },\r\n    ...mapState([\r\n      'loginUser'\r\n    ])\r\n  },\r\n  created: function () {\r\n    this.getProfile()\r\n    this.getUserFonts()\r\n    this.getUserStickers()\r\n    this.getUserCovers()\r\n  },\r\n  onMounted: function () {\r\n    // this.profile.nickName = this.loginUser.userNickname;\r\n    // this.profile.pwd = this.loginUser.userPwd;\r\n    // this.profile.pwdCheck = this.loginUser.userPwd;\r\n    // this.profile.profileImg = this.loginUser.userProfile;\r\n    // console.log(this.profile, '머여,,,');\r\n  },\r\n  methods: {\r\n    back() {\r\n      this.$router.go(-1);\r\n    },\r\n    imgLabelClick () {\r\n      const inputImg = document.getElementById('profile_img_upload') // input file 태그 저장\r\n      console.log(inputImg)\r\n      inputImg.click() // 클릭이벤트 실행\r\n    },\r\n    // 사진업로드\r\n    onClickImageUpload () {\r\n      this.$refs.imageInput.click()\r\n    },\r\n    onChangeImages (e) {\r\n      console.log(e.target.files)\r\n      console.log(e.target)\r\n      const file = e.target.files[0] // Get first index in files\r\n      this.profile.profileImg = URL.createObjectURL(file)\r\n      this.profile.image = file // Create File URL\r\n    },\r\n    modify () {\r\n      const newProfile = new FormData()\r\n      newProfile.append('userNickname', this.profile.nickName)\r\n      newProfile.append('userPwd', this.profile.pwd)\r\n      newProfile.append('userProfile', this.profile.image)\r\n      this.$store.dispatch(\"modifyProfile\", newProfile)\r\n      .then(() => {\r\n        Swal.fire({\r\n          icon: \"success\",\r\n            title:\r\n              '<span style=\"font-size:25px;\">수정되었습니다.</span>',\r\n            confirmButtonColor: \"#b0da9b\",\r\n            confirmButtonText: '<span style=\"font-size:18px;\">확인</span>',\r\n        })\r\n        const user = {\r\n          userNickname: this.profile.nickName,\r\n          userProfile: this.profile.profileImg,\r\n          userPwd : this.profile.pwd,\r\n          userId: this.loginUser.userId,\r\n          userMileage: this.loginUser.userMileage,\r\n          userToken: this.loginUser.userToken\r\n        }\r\n        this.$store.commit(\"setLoginUser\", user)\r\n        console.log(user, '정보수정후 유저')\r\n      })\r\n      .catch(() => {\r\n        Swal.fire({\r\n            icon: \"error\",\r\n            title: '<span style=\"font-size:25px;\">수정실패.</span>',\r\n            confirmButtonColor: \"#f27474\",\r\n            confirmButtonText: '<span style=\"font-size:18px;\">확인</span>',\r\n          });\r\n      })\r\n    },\r\n    getProfile: function () {\r\n      this.profile.nickName = this.loginUser.userNickname\r\n      this.profile.pwd = this.loginUser.userPwd\r\n      this.profile.pwdCheck = this.loginUser.userPwd\r\n      this.profile.profileImg = this.loginUser.userProfile\r\n    },\r\n    getUserFonts: function () {\r\n      this.$store.dispatch(\"getUserFonts\")\r\n      .then((res) => {\r\n        console.log(res.data, '유저 폰트')\r\n        this.myFontList = res.data\r\n      })\r\n    },\r\n    getUserStickers: function () {\r\n      this.$store.dispatch(\"getUserStickers\")\r\n      .then((res) => {\r\n        console.log(res.data, '유저 스티커')\r\n        this.myStickerLsit = res.data\r\n      })\r\n    },\r\n    getUserCovers: function () {\r\n      this.$store.dispatch(\"getUserCovers\")\r\n      .then((res) => {\r\n        console.log(res.data, '유저 커버')\r\n        this.myCoverList = res.data\r\n      })\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#MyPage_Container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin: 0 auto;\r\n  margin-top: 34px;\r\n  width: 600px;\r\n  height: 800px;\r\n  border-radius: 15px;\r\n  box-shadow: 3px 3px 11px rgba(166, 166, 168, 0.25);\r\n}\r\n#Mypage_Content {\r\n  width: 528px;\r\n  height: 728px;\r\n}\r\n#Mypage_Title {\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n}\r\n#Mypage_Profile {\r\n  height: 45px;\r\n  margin-top: 20px;\r\n}\r\n#Profile_img {\r\n  border-radius: 50px;\r\n  width: 45px;\r\n  height: 45px;\r\n}\r\n#Change_Btn {\r\n  width: 130px;\r\n  font-size: 15px;\r\n  margin-left: 80px;\r\n  position: relative;\r\n  top: -19px;\r\n}\r\n.Mypage_Form {\r\n  height: 45px;\r\n  /* border:1px solid red; */\r\n}\r\n.Form_Name {\r\n  font-size: 16px;\r\n}\r\n.Form_Input {\r\n  display: inline-block;\r\n  width: 400px;\r\n  position: relative;\r\n  top: -8px;\r\n}\r\n#Mypage_Title2 {\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  margin-top: 24px;\r\n}\r\n.Tab {\r\n  height: 325px;\r\n  border-top: 1px solid #d7d7d7;\r\n}\r\n#Mypage_Btn_Box {\r\n  margin-top: 20px;\r\n  height: 30px;\r\n  float: right;\r\n}\r\n.Mypage_Btn {\r\n  margin-left: 10px;\r\n}\r\n#Mypage_Delete {\r\n  float: left;\r\n  height: 30px;\r\n  margin-top: 20px;\r\n}\r\n#Delete_Btn {\r\n  color: #9f9f9f;\r\n  width: 50px;\r\n  font-size: 15px;\r\n  position: relative;\r\n  left: -1px;\r\n}\r\n</style>"]}]}
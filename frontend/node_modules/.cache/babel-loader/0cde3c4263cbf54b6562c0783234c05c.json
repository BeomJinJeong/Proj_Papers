{"remainingRequest":"C:\\Users\\multicampus\\Desktop\\project3\\frontend\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\multicampus\\Desktop\\project3\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\multicampus\\Desktop\\project3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\multicampus\\Desktop\\project3\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\multicampus\\Desktop\\project3\\frontend\\src\\components\\album\\AlbumMake.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\multicampus\\Desktop\\project3\\frontend\\src\\components\\album\\AlbumMake.vue","mtime":1636596790403},{"path":"C:\\Users\\multicampus\\Desktop\\project3\\frontend\\babel.config.js","mtime":1634793022428},{"path":"C:\\Users\\multicampus\\Desktop\\project3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\multicampus\\Desktop\\project3\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\multicampus\\Desktop\\project3\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\multicampus\\Desktop\\project3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\multicampus\\Desktop\\project3\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGh0bWwycGRmIGZyb20gJ2h0bWwycGRmLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbWFnZTogJycsCiAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgIGltYWdlTGlzdDogW10sCiAgICAgIHMzSW1hZ2VMaXN0OiBbXSwKICAgICAgc2VsZWN0RGlhcnk6ICcnLAogICAgICBkaWFyeVRpdGxlTGlzdDogW10KICAgIH07CiAgfSwKICBuYW1lOiAnYXBwJywKICBtZXRob2RzOiB7CiAgICAvLyBQREbroZwgZXhwb3J0IO2VmOq4sAogICAgZXhwb3J0VG9QREY6IGZ1bmN0aW9uIGV4cG9ydFRvUERGKCkgewogICAgICBodG1sMnBkZih0aGlzLiRyZWZzLnRhcmdldCwgewogICAgICAgIG1hcmdpbjogMSwKICAgICAgICBmaWxlbmFtZTogJ2RvY3VtZW50LnBkZicsCiAgICAgICAgaW1hZ2U6IHsKICAgICAgICAgIHR5cGU6ICJqcGciLAogICAgICAgICAgcXVhbGl0eTogMC45NQogICAgICAgIH0sCiAgICAgICAgaHRtbDJjYW52YXM6IHsKICAgICAgICAgIGRwaTogMTkyLAogICAgICAgICAgbGV0dGVyUmVuZGVyaW5nOiB0cnVlLAogICAgICAgICAgYWxsb3dUYWludDogdHJ1ZQogICAgICAgIH0sCiAgICAgICAganNQREY6IHsKICAgICAgICAgIHVuaXQ6ICdpbicsCiAgICAgICAgICBmb3JtYXQ6ICdhNCcsCiAgICAgICAgICBvcmllbnRhdGlvbjogJ2xhbmRzY2FwZScKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIFMz7JeQ7IScIOuLpOydtOyWtOumrCDslYTsnbTrlJTrpbwg67Cb6rOgLCDsgqzsp4TtjIzsnbzrk6Qg6rCA7KC47Jik6riwCiAgICBnZXRJbWFnZUZpbGVzOiBmdW5jdGlvbiBnZXRJbWFnZUZpbGVzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHNlbGVjdERpYXJ5SWQgPSAtMTsgLy8g64uk7J207Ja066asIOydtOumhOyXkOyEnCBJZOuhnCDrs4DtmZgKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5kaWFyeUxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodGhpcy5zZWxlY3REaWFyeSA9PSB0aGlzLmRpYXJ5TGlzdFtpXS5kaWFyeVRpdGxlKSB7CiAgICAgICAgICBzZWxlY3REaWFyeUlkID0gdGhpcy5kaWFyeUxpc3RbaV0uaWQ7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0gLy8gUzPsl5DshJwg64uk7J207Ja066asIOq4sOykgCDtjIzsnbzrk6Qg6rCA7KC47Ji0LgoKCiAgICAgIGlmIChzZWxlY3REaWFyeUlkID09IC0xKSB7CiAgICAgICAgYWxlcnQoJ+yCrOynhOydhCDqsIDsoLjsmKwg64uk7J207Ja066as66W8IOyEoO2Dne2VtOyjvOyEuOyalCcpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZGlhbG9nID0gdHJ1ZTsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZ2V0RGlhcnlJbWFnZUxpc3QnLCBzZWxlY3REaWFyeUlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzLnMzSW1hZ2VMaXN0ID0gcmVzLmRhdGE7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDrvZHsnYQg7J2066+47KeA65OkIOumrOyKpO2KuOyXkCDsgr3snoUKICAgIGluc2VydEltYWdlTGlzdDogZnVuY3Rpb24gaW5zZXJ0SW1hZ2VMaXN0KGltYWdlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgZmV0Y2goaW1hZ2UpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHJldHVybiByZXMuYmxvYigpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChibG9iKSB7CiAgICAgICAgdmFyIGltYWdlID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKCiAgICAgICAgX3RoaXMyLmltYWdlTGlzdC5wdXNoKGltYWdlKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgdGhpcy5pbWFnZUxpc3QgPSBbXTsKICAgIHRoaXMuczNJbWFnZUxpc3QgPSBbXTsKICAgIHRoaXMuZGlhbG9nID0gZmFsc2U7IC8vIOuLpOydtOyWtOumrCDrqqnroZ0g6rCA7KC47Jik6riwCgogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImRpYXJ5R2V0IikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIHZhciB0bXAgPSBbXTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzLmRhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICB0bXBbaV0gPSByZXMuZGF0YVtpXS5kaWFyeVRpdGxlOwogICAgICB9CgogICAgICBfdGhpczMuZGlhcnlUaXRsZUxpc3QgPSB0bXA7CiAgICAgIF90aGlzMy5kaWFyeUxpc3QgPSByZXMuZGF0YTsKICAgIH0pOyAvLyBmZXRjaCgnaHR0cHM6Ly9wYXBlcnMtYnVja2V0LnMzLmFwLW5vcnRoZWFzdC0yLmFtYXpvbmF3cy5jb20vZGlhcnktY292ZXIvc2FtcGxlLnBuZycpCiAgICAvLyAudGhlbigocmVzKSA9PiByZXMuYmxvYigpKQogICAgLy8gLnRoZW4oYmxvYiA9PiB7CiAgICAvLyAgIHRoaXMuaW1hZ2UgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgLy8gfSkKICB9Cn07"},{"version":3,"sources":["AlbumMake.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div id=\"app\" ref=\"target\">\r\n    <div data-html2canvas-ignore=\"true\"> \r\n      <v-combobox\r\n        v-model=\"selectDiary\"\r\n        :items=\"diaryTitleList\"\r\n        label=\"일기장 선택\"\r\n      ></v-combobox>\r\n      <v-btn\r\n        id=\"exportAlbumBtn\"\r\n        style=\"margin: 30px;\"\r\n        @click=\"exportToPDF\"\r\n      >PDF 만들기</v-btn>\r\n\r\n      <v-btn\r\n        id=\"getImageFilesBtn\"\r\n        style=\"margin: 30px;\"\r\n        @click=\"getImageFiles\"\r\n      >다이어리 사진 가져오기</v-btn>\r\n    </div>\r\n\r\n    <div v-for=\"image in imageList\" :key=\"image\">\r\n      <img :src=\"image\" style=\"width: 200px; height: 300px; display: inline-block; float: left; \"/>\r\n    </div>\r\n\r\n    <!-- 다이얼로그 -->\r\n    <v-dialog v-model=\"dialog\" style=\"height: 500px; width: 500px; overflow: scroll\" max-width=\"500\">\r\n      <div style=\"float: left\" v-for=\"image in s3ImageList\" :key=\"image\">\r\n        <img :src=\"image\" style=\"width: 200px; height: 200px;\" @click=\"insertImageList(image)\"/>\r\n      </div>\r\n      <v-btn @click=\"dialog=false\">닫기</v-btn>\r\n    </v-dialog>\r\n\r\n    <div>\r\n      <img style=\"width: 200px;\" :src=\"image\"/>\r\n    </div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport html2pdf from 'html2pdf.js'\r\n\t\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\timage: '',\r\n        dialog: false,\r\n        imageList: [],\r\n        s3ImageList: [],\r\n        selectDiary: '',\r\n        diaryTitleList: [],\r\n\t\t\t}\r\n\t\t},\r\n    name: 'app',\r\n\t\tmethods: {\r\n      // PDF로 export 하기\r\n\t\t\texportToPDF () {\r\n\t\t\t\thtml2pdf(this.$refs.target, {\r\n\t\t\t\t\tmargin: 1,\r\n\t\t\t\t\tfilename: 'document.pdf',\r\n\t\t\t\t\timage: {type:\"jpg\", quality: 0.95},\r\n\t\t\t\t\thtml2canvas: { \r\n            dpi: 192, \r\n            letterRendering: true, \r\n            allowTaint: true,\r\n          },\r\n\t\t\t\t\tjsPDF: { unit: 'in', format: 'a4', orientation: 'landscape' },          \r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n      // S3에서 다이어리 아이디를 받고, 사진파일들 가져오기\r\n      getImageFiles() {\r\n        var selectDiaryId = -1  // 다이어리 이름에서 Id로 변환\r\n        for(let i=0;i<this.diaryList.length;i++){\r\n          if(this.selectDiary == this.diaryList[i].diaryTitle){\r\n            selectDiaryId = this.diaryList[i].id\r\n            break\r\n          }\r\n        }\r\n\r\n        // S3에서 다이어리 기준 파일들 가져옴.\r\n        if(selectDiaryId == -1) {\r\n          alert('사진을 가져올 다이어리를 선택해주세요')\r\n        } else {\r\n          this.dialog = true\r\n          this.$store.dispatch('getDiaryImageList', selectDiaryId).then((res) => {\r\n            this.s3ImageList = res.data\r\n          })\r\n        }        \r\n      },\r\n\r\n      // 뽑을 이미지들 리스트에 삽입\r\n      insertImageList(image) {\r\n        fetch(image).then((res) => res.blob())\r\n        .then(blob => {\r\n          const image = URL.createObjectURL(blob);\r\n          this.imageList.push(image)\r\n        })\r\n      }\r\n\t\t},\r\n    created() {\r\n      this.imageList = []\r\n      this.s3ImageList = []\r\n      this.dialog = false\r\n      // 다이어리 목록 가져오기\r\n      this.$store.dispatch(\"diaryGet\").then((res) => {\r\n        const tmp = []\r\n        for(let i=0;i<res.data.length;i++) {\r\n          tmp[i] = res.data[i].diaryTitle\r\n        }\r\n        this.diaryTitleList = tmp\r\n        this.diaryList = res.data\r\n      });\r\n\r\n      // fetch('https://papers-bucket.s3.ap-northeast-2.amazonaws.com/diary-cover/sample.png')\r\n      // .then((res) => res.blob())\r\n      // .then(blob => {\r\n      //   this.image = URL.createObjectURL(blob);\r\n      // })\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n</style>"],"sourceRoot":"src/components/album"}]}